<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> Claude Code Configuration Toolkit</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="LLM Development Configuration Management with Claude Code">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

  <!-- Theme -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">

  <!-- Custom styling -->
  <style>
    :root {
      --theme-color: #0066cc;
      --theme-color-secondary: #00449e;
    }

    .sidebar-nav > ul > li > p {
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.9em;
      color: var(--theme-color);
      margin-top: 1em;
    }

    .markdown-section code {
      background-color: #f8f8f8;
      border-radius: 2px;
      color: #e96900;
      font-family: 'SF Mono', Monaco, Menlo, Consolas, 'Courier New', monospace;
      margin: 0 2px;
      padding: 3px 5px;
    }

    .markdown-section pre > code {
      background-color: #f8f8f8;
      color: #333;
    }

    /* Artifact type badges */
    .markdown-section table th:first-child {
      background-color: var(--theme-color);
      color: white;
    }
  </style>
</head>
<body>
  <div id="app">Loading...</div>
  <script>
    // ============================================================
    // SIDEBAR CONFIGURATION
    // Edit this object to update the navigation sidebar
    // ============================================================
    const sidebarConfig = {
      'Getting Started': {
        'Overview': 'README.md',
        'Choose Artifact Type': 'skills/toolkit-choose-artifact/SKILL.md'
      },
      'Commands': {
        'new-handover': 'commands/toolkit-new-handover.md',
        'graduate': 'commands/toolkit-graduate.md',
        'archive': 'commands/toolkit-archive.md',
        'promote': 'commands/toolkit-promote.md'
      },
      'Skills': {
        'setup': 'skills/toolkit-setup/SKILL.md',
        'validate': 'skills/toolkit-validate/SKILL.md',
        'handover': 'skills/toolkit-handover/SKILL.md',
        'choose-artifact': 'skills/toolkit-choose-artifact/SKILL.md',
        'new-artifact': 'skills/toolkit-new-artifact/SKILL.md',
        'new-plan': 'skills/toolkit-new-plan/SKILL.md'
      },
      'Agents': {
        'architecture': 'agents/toolkit-architecture.md',
        'contributing': 'agents/toolkit-contributing.md',
        'handover-guide': 'agents/toolkit-handover-guide.md',
        'organization': 'agents/toolkit-organization.md',
        'planning-guide': 'agents/toolkit-planning-guide.md',
        'scripts-guide': 'agents/toolkit-scripts-guide.md',
        'team-workflows': 'agents/toolkit-team-workflows.md',
        'workflows': 'agents/toolkit-workflows.md',
        'workspace-setup': 'agents/toolkit-workspace-setup.md'
      },
      'Rules': {
        'agents': 'rules/toolkit-agents.md',
        'frontmatter-standards': 'rules/toolkit-frontmatter-standards.md',
        'naming-conventions': 'rules/toolkit-naming-conventions.md',
        'session-continuity': 'rules/toolkit-session-continuity.md',
        'workspace-separation': 'rules/toolkit-workspace-separation.md'
      },
      'Planning & Sessions': {
        'Plans Guide': 'plans/README.md',
        'Sessions Guide': 'sessions/README.md'
      }
    };

    // Convert sidebar config to markdown format
    function generateSidebar(config) {
      let markdown = '';
      for (const [section, links] of Object.entries(config)) {
        markdown += `* **${section}**\n`;
        for (const [label, path] of Object.entries(links)) {
          markdown += `  * [${label}](/${path})\n`;
        }
        markdown += '\n';
      }
      return markdown;
    }

    window.$docsify = {
      name: 'Claude Config Toolkit',
      repo: 'https://github.com/your-org/toolkit-config',

      // Sidebar and navigation
      loadSidebar: false, // We generate it programmatically
      subMaxLevel: 0, // Disable auto-generated TOC sidebar
      auto2top: true,
      homepage: 'README.md',

      // Search
      search: {
        maxAge: 86400000,
        paths: 'auto',
        placeholder: 'Search artifacts...',
        noData: 'No results found',
        depth: 4,
        hideOtherSidebarContent: false
      },

      // Markdown features
      markdown: {
        smartypants: true
      },

      // Plugins
      plugins: [
        // Generate custom sidebar from config
        function(hook, vm) {
          hook.mounted(function() {
            // Generate and inject sidebar on mount
            const markdown = generateSidebar(sidebarConfig);
            const compiled = window.marked.parse(markdown);
            const sidebarNav = document.querySelector('.sidebar-nav');
            if (sidebarNav) {
              sidebarNav.innerHTML = compiled;
            }
          });

          hook.doneEach(function() {
            // Re-inject sidebar after each page navigation
            const markdown = generateSidebar(sidebarConfig);
            const compiled = window.marked.parse(markdown);
            const sidebarNav = document.querySelector('.sidebar-nav');
            if (sidebarNav) {
              sidebarNav.innerHTML = compiled;
            }
          });
        },

        // Custom footer
        function(hook, vm) {
          hook.afterEach(function(html, next) {
            const footer = [
              '<hr/>',
              '<footer>',
              '<span>Made with <a href="https://claude.ai" target="_blank">Claude</a> | ',
              'Powered by <a href="https://docsify.js.org" target="_blank">docsify</a></span>',
              '</footer>'
            ].join('');

            next(html + footer);
          });
        },

        // External link handling
        function(hook, vm) {
          hook.beforeEach(function(content) {
            return content.replace(
              /\[([^\]]+)\]\(([^)]+)\)/g,
              function(match, text, url) {
                if (url.startsWith('http')) {
                  return `[${text}](${url} ':target=_blank')`;
                }
                return match;
              }
            );
          });
        }
      ],

      // Navbar
      loadNavbar: false,

      // Pagination
      pagination: {
        previousText: '← Previous',
        nextText: 'Next →',
        crossChapter: true,
        crossChapterText: true
      },

      // Copy code
      copyCode: {
        buttonText: 'Copy',
        errorText: 'Error',
        successText: 'Copied'
      },

      // Tabs
      tabs: {
        persist: true,
        sync: true,
        theme: 'classic',
        tabComments: true,
        tabHeadings: true
      }
    }
  </script>

  <!-- Docsify core -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>

  <!-- Mermaid -->
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
      startOnLoad: false,
      theme: 'default',
      themeVariables: {
        primaryColor: '#0066cc',
        primaryTextColor: '#fff',
        primaryBorderColor: '#00449e',
        lineColor: '#0066cc',
        secondaryColor: '#e8f4ff',
        tertiaryColor: '#f0f0f0'
      }
    });
    window.mermaid = mermaid;
  </script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-mermaid@2/dist/docsify-mermaid.js"></script>
  <script>mermaid.initialize({ startOnLoad: true });</script>

  <!-- Plugins -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4/lib/plugins/search.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-pagination@2/dist/docsify-pagination.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code@2/dist/docsify-copy-code.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-tabs@1/dist/docsify-tabs.min.js"></script>

  <!-- Syntax highlighting -->
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-markdown.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-yaml.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-json.min.js"></script>
</body>
</html>
